<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diamondsect | Admin</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    .admwrap{max-width:1180px;margin:34px auto;padding:0 16px}
    table{width:100%;border-collapse:collapse}
    th,td{border-bottom:1px solid rgba(255,255,255,.10);padding:12px 10px;text-align:left;font-size:13px;color:rgba(255,255,255,.9)}
    th{font-size:12px;letter-spacing:.12em;text-transform:uppercase;color:rgba(255,255,255,.75)}
    .admgrid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:900px){.admgrid{grid-template-columns:1fr}}
    .help{color:rgba(255,255,255,.65);font-size:12.5px;line-height:1.5;margin-top:8px}
  </style>

  <meta name="description" content="Diamondsect: experiência premium em moda e acessórios." />
  <meta property="og:site_name" content="Diamondsect" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Diamondsect" />
  <meta property="og:description" content="Diamondsect: experiência premium em moda e acessórios." />
  <meta name="theme-color" content="#0b0b0b" />

</head>

<body>

  <div class="topbar" role="region" aria-label="Avisos">
    <div class="topbar__track">
      <span>FRETE GRÁTIS PARA TODO O BRASIL | GARANTIA DE 30 DIAS</span>
      <span>CUPOM DE PRIMEIRA COMPRA</span>
      <span>PARCELE EM ATÉ 12X NO CARTÃO</span>
      <span>COMPRA SEGURA</span>
      <span>FRETE GRÁTIS PARA TODO O BRASIL | GARANTIA DE 30 DIAS</span>
      <span>CUPOM DE PRIMEIRA COMPRA</span>
      <span>PARCELE EM ATÉ 12X NO CARTÃO</span>
      <span>COMPRA SEGURA</span>
    </div>
  </div>


  <header class="header">
    <div class="header__inner">
      <div class="header__left">
        <a class="btn btn--mini" href="admin.html" title="Área Admin (cadastrar produtos)">Admin</a>
      </div>

      <a class="brand" href="index.html">Diamondsect</a>

      <div class="header__right">
        <form class="search search--inline" action="#" onsubmit="event.preventDefault();">
          <span class="search__icon" aria-hidden="true">⌕</span>
          <input id="searchInput" type="search" placeholder="O que você está buscando?" autocomplete="off" />
          <button class="search__btn" type="button" title="Pesquisar">Buscar</button>
        </form>

        <button class="accountbtn" type="button" data-account-btn aria-label="Conta">
          <span class="avatar" data-account-avatar>DS</span>
          <span data-account-label>Entrar</span>
        </button>

        <a class="cartbtn cartbtn--premium" href="carrinho.html" aria-label="Meu carrinho">
          <span class="cartbtn__label">Meu carrinho</span>
          <span class="cartcount">0</span>
        </a>
      </div>

      <nav class="nav">
      <a class="is-active" href="index.html">Início</a>
      <a class="" href="ternos.html">Ternos</a>
      <a class="" href="perfumaria.html">Perfumaria</a>
      <a class="" href="joias.html">Joias</a>
      <a class="" href="linho.html">Linho</a>
      <a class="" href="blazer.html">Blazer</a>
      <a href="#suporte">Suporte</a>
      <a href="#rastrear">Rastrear pedido</a>
      </nav>
    </div>
  </header>

  <!-- Auth modal -->
  <div class="modal" id="authModal" aria-hidden="true">
    <div class="modal__backdrop" id="authBackdrop" data-close-auth></div>
    <div class="modal__box">
      <button class="modal__close" type="button" data-close-auth aria-label="Fechar">Fechar</button>
      <h2 id="authTitle">Entrar</h2>
      <input type="hidden" id="authMode" value="login" />
      <div class="fieldcol">
        <div id="authNameWrap" style="display:none">
          <input id="authName" type="text" placeholder="Seu nome" />
        </div>
        <input id="authEmail" type="email" placeholder="Seu e-mail" autocomplete="email" />
        <input id="authPass" type="password" placeholder="Senha" autocomplete="current-password" />
        <button class="btn" type="button" id="authSubmit">Entrar</button>
        <div id="authToast" class="badge-ok" style="display:none"></div>
        <div class="switchrow">
          <span id="authSwitchText">Não tem conta?</span>
          <a id="authSwitch">Criar conta</a>
        </div>
        <div class="authnote">⚠️ Login é local (salvo no navegador). Para login real com segurança, depois a gente integra com backend.</div>
      </div>
    </div>
  </div>


  <main class="admwrap">
    <div class="panel">
      <h2 style="font-size:18px;letter-spacing:.08em;text-transform:uppercase">Admin — Catálogo</h2>
      <p class="help">
        Aqui você cadastra produtos, estoque e múltiplas fotos. O site fica vazio até você adicionar itens (do jeito que você pediu).
      </p>

      <div class="divider"></div>

      <div class="admgrid">
        <div>
          <div class="small">ID (deixe vazio para gerar automático)</div>
          <input class="fieldcol" style="width:100%" id="pid" placeholder="ex: 101" />
        </div>
        <div>
          <div class="small">Nome</div>
          <input class="fieldcol" style="width:100%" id="pname" placeholder="Ex: Terno Imperial" />
        </div>

        <div>
          <div class="small">Categoria</div>
          <select id="pcat" style="width:100%;padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(0,0,0,.25);color:#fff">
            <option value="ternos">Ternos</option>
            <option value="perfumaria">Perfumaria</option>
            <option value="joias">Joias</option>
            <option value="linho">Linho</option>
            <option value="blazer">Blazer</option>
          </select>
        </div>

        <div>
          <div class="small">Subcategoria (Joias: relogios/pulseiras/colares)</div>
          <input class="fieldcol" style="width:100%" id="psub" placeholder="opcional" />
        </div>

        <div>
          <div class="small">Preço (R$)</div>
          <input class="fieldcol" style="width:100%" id="pprice" type="number" step="0.01" value="0" />
        </div>

        <div>
          <div class="small">Estoque</div>
          <input class="fieldcol" style="width:100%" id="pstock" type="number" step="1" value="0" />
        </div>

        <div>
          <div class="small">Imagem principal (URL)</div>
          <input class="fieldcol" style="width:100%" id="pimg" placeholder="https://..." />
        </div>

        <div>
          <div class="small">Outras imagens (URLs separadas por vírgula)</div>
          <input class="fieldcol" style="width:100%" id="pimgs" placeholder="https://..., https://..., https://..." />
        </div>

        <div>
          <div class="small">Vídeo do produto (URL — YouTube ou .mp4) <span class="muted">(opcional)</span></div>
          <input class="fieldcol" style="width:100%" id="pvideo" placeholder="https://youtube.com/... ou https://.../video.mp4" />
        </div>

        <div>
          <div class="small">Look completo (IDs de produtos, separados por vírgula) <span class="muted">(opcional)</span></div>
          <input class="fieldcol" style="width:100%" id="plook" placeholder="Ex: 101, 205, 330" />
        </div>

        <div style="grid-column:1/-1">
          <div class="small">Descrição</div>
          <textarea id="pdesc" rows="4" style="width:100%;padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(0,0,0,.25);color:#fff;outline:none" placeholder="Texto do produto..."></textarea>
        </div>

        <div>
          <div class="small">Score de vendidos (opcional)</div>
          <input class="fieldcol" style="width:100%" id="psold" type="number" step="1" value="0" />
        </div>

        <div style="display:flex;gap:10px;align-items:end;flex-wrap:wrap">
          <button class="btn" type="button" id="saveBtn">Salvar</button>
          <button class="btn" type="button" id="clearBtn">Limpar</button>
          <button class="btn" type="button" id="wipeBtn">Apagar tudo</button>
        </div>
      </div>
    </div>

    <div style="height:16px"></div>

    <div class="panel">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px">
        <h2 style="font-size:16px;letter-spacing:.08em;text-transform:uppercase;margin:0">Produtos cadastrados</h2>
        <div class="small">Total: <b id="admCount">0</b></div>
      </div>

      <div style="overflow:auto">
        <table>
          <thead>
            <tr>
              <th>ID</th><th>Nome</th><th>Categoria</th><th>Sub</th><th>Estoque</th><th>Preço</th><th>Ações</th>
            </tr>
          </thead>
          <tbody id="admBody"></tbody>
        </table>
      </div>
    </div>

    <p class="help">Dica: para Joias, use subcategoria exatamente: <b>relogios</b>, <b>pulseiras</b> ou <b>colares</b>.</p>
  </main>

  <script type="module">
    import { initAuth } from "./js/auth.js";
    import { initSmartHeader } from "./js/header.js";
    import { initChat } from "./js/chat.js";
    import { initAdmin } from "./js/admin.js";
    initAuth();
    initSmartHeader();
    initChat();
    initAdmin();
  </script>
</body>
</html>
